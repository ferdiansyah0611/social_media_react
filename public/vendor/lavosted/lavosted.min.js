const $apps={},$object={},$array=[],$data_storage=[];var $this;class Lavosted{constructor(e){this.__application__=e,this.store=(e=>$apps.data=e),this.init=function(e){try{void 0!==e.csrf&&(e.csrf.name||e.csrf.token)&&this.security(e.csrf.name,e.csrf.token),void 0!==e.run&&("development"==e.run?console.info("You are running Lavosted in development mode.\nMake sure to turn on production mode when deploying for production\nMore info visit https://github.com/ferdiansyah0611/Lavosted-Frameworks"):e.run),void 0!==e.responsive&&this.src({name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no"}).meta(),void 0!==e.headers&&($data_storage.headers=e.headers.Authorization)}catch(e){throw Error(e.stack)}}}src(e){return $data_storage.resources=[],{script:()=>{window.addEventListener("DOMContentLoaded",function(){const t=document.createElement("script");t.type="text/javascript",t.src=e,document.body.appendChild(t),$data_storage.resources.push(e)})},link:()=>{window.addEventListener("DOMContentLoaded",function(){const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t),$data_storage.resources.push(e)})},meta:()=>{addEventListener("DOMContentLoaded",function(){const t=document.createElement("meta");t.name=e.name,t.content=e.content,document.head.appendChild(t)})},style:()=>{addEventListener("DOMContentLoaded",function(){const t=document.createElement("style");t.type="text/css",t.innerText=e,document.head.appendChild(t)})}}}static dom(e){let t=[];return document.body.querySelectorAll(e).forEach((e,a)=>{t.push(e)}),t}static listevent(){return["animationend","animationiteration","animationstart","beginEvent","endEvent","repeatEvent","chargingchange","chargingtimechange","dischargingtimechange","levelchange","alerting","busy","callschanged","cfstatechange","connected","connecting","dialing","disconnected","disconnecting","error","held","holding","incoming","resuming","statechange","voicechange","CssRuleViewRefreshed","CssRuleViewChanged","CssRuleViewCSSLinkClicked","transitionend","abort","blocked","complete","success","upgradeneeded","versionchange","DOMLinkAdded","DOMLinkRemoved","DOMMetaAdded","DOMMetaRemoved","DOMWillOpenModalDialog","DOMModalDialogClosed","unload","DOMAttributeNameChanged","DOMAttrModified","DOMCharacterDataModified","DOMContentLoaded","DOMElementNameChanged","DOMNodeInserted","DOMNodeInsertedIntoDocument","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMSubtreeModified","drag","dragdrop","dragend","dragenter","dragexit","draggesture","dragleave","dragover","dragstart","drop","invalid","overflow","underflow","DOMAutoComplete","command","commandupdate","blur","change","DOMFocusIn","DOMFocusOut","focus","focusin","focusout","reset","submit","mozbrowserclose","mozbrowsercontextmenu","mozbrowsererror","mozbrowsericonchange","mozbrowserlocationchange","mozbrowserloadend","mozbrowserloadstart","mozbrowseropenwindow","mozbrowsersecuritychange","mozbrowsershowmodalprompt","mozbrowsertitlechange","DOMFrameContentLoaded","click","dbclick","contextmenu","DOMMouseScroll","dblclick","gamepadconnected","gamepaddisconnected","keydown","keypress","keyup","MozGamepadButtonDown","MozGamepadButtonUp","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","MozMousePixelScroll","pointerlockchange","pointerlockerror","wheel","audioprocess","canplay","canplaythrough","durationchange","emptied","ended","ended","loadeddata","loadedmetadata","MozAudioAvailable","pause","play","playing","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","complete","DOMMenuItemActive","DOMMenuItemInactive","datachange","dataerror","disabled","enabled","offline","online","statuschange","connectionInfoUpdate","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","afterprint","beforeprint","load","beforeunload","loadend","loadstart","progress","timeout","uploadprogress","compositionend","compositionstart","compositionupdate","copy","cut","paste","select","text","touchcancel","touchend","touchenter","touchleave","touchmove","touchstart","fullscreen","fullscreenchange","fullscreenerror","MozEnteredDomFullscreen","MozScrolledAreaChanged","resize","scroll","sizemodechange"]}ajax(e={}){if(["GET","POST","PUT","DELETE","PATCH"].find(t=>t==e.method))try{let t=new XMLHttpRequest;if(e.type&&(t.responseType=e.type),e.type||(t.responseType="json"),t.onloadstart=function(){"function"==typeof e.start&&e.start()},t.onprogress=function(){"function"==typeof e.progress&&e.progress()},t.onload=function(){t.status>=200&&t.status<300?e.success(this.response):e.error(t.response,t.status)},1==e.cache&&t.open(e.method,e.url,!0),0!=e.cache&&null!=e.cache&&null!=e.cache||t.open(e.method,e.url+"?_="+(new L).date().time(),!0),void 0!==e.headers)for(let a=0;a<e.headers.length;a++){const o=e.headers[a];t.setRequestHeader(o.name,o.value)}1==e.multipart&&t.setRequestHeader("Content-Type","multipart/form-data"),t.send()}catch(e){console.error(e.message)}}on(e,t,a){$this=Lavosted.dom(this.__application__);var o=typeof e,n=typeof t,r=Lavosted.listevent();if("string"!=o)throw Error("parameter 1 is not a string.");if(r.find(t=>t==e)){if("function"!=n)throw Error("parameter 2 is not a function.");$this.forEach((o,n)=>{o.addEventListener(e,function(e){t(e)},a)})}}removeEvent(e,t,a){$this=Lavosted.dom(this.__application__);var o=typeof e,n=typeof t,r=Lavosted.listevent();if("string"!=o)throw Error("parameter 1 is not a string.");if(r.find(t=>t==e)){if("function"!=n)throw Error("parameter 2 is not a function.");$this.forEach((o,n)=>{o.removeEventListener(e,function(e){t(e)},a)})}}style(e){let t=[];if($this=Lavosted.dom(this.__application__),"string"==typeof e)return $this.forEach((a,o)=>{null!==a.getAttribute("style")&&(a.setAttribute("style",a.getAttribute("style")+e),t.push(a.getAttribute("style")+e))}),t;throw Error("parameter 1 is not a string.")}push(...e){$this=this.__application__;var t="";if(Array.isArray($this))return e.forEach(a=>{if($this.find(e=>e==a))throw Error("parameter is unique to its main array and cannot be the same value.");t=$this.concat(e)}),t;throw Error("L() parameter 1 is not a array.")}async findArray(e){if($this=this.__application__,Array.isArray($this))return new Promise((t,a)=>{"string"==typeof e?$this.find(t=>t==e)?t(e):a("No data founds"):a("parameter 1 not have a value")});throw Error("L() parameter 1 is not a array")}isArray(){if(Array.isArray(this.__application__))return!0}fragment(e,t){var a=new DocumentFragment;($this=Lavosted.dom(this.__application__)).forEach((o,n)=>{var r=document.createElement(e);r.innerHTML=t,a.appendChild(r),o.appendChild(a)})}collection(){return Lavosted.dom(this.__application__)}height(){let e=[];return($this=Lavosted.dom(this.__application__)).forEach((t,a)=>{e.push(t.offsetHeight)}),e}width(){let e=[];return($this=Lavosted.dom(this.__application__)).forEach((t,a)=>{e.push(t.offsetWidth)}),e}parent(){let e=[];return($this=Lavosted.dom(this.__application__)).forEach((t,a)=>{e.push(t.offsetParent)}),e}val(e){try{if(e){return($this=Lavosted.dom(this.__application__)).forEach((t,a)=>{t.value=e}),!0}{let e=[];return($this=Lavosted.dom(this.__application__)).forEach((t,a)=>{e.push(t.value)}),null==e[0]?(console.error("Type error : undefined data value"),!1):e}}catch(e){console.error(e.message)}}remove(){return($this=Lavosted.dom(this.__application__)).forEach((e,t)=>{e.remove()}),!0}attr(e,t){if(e&&t){return($this=Lavosted.dom(this.__application__)).forEach((a,o)=>{a.setAttribute(e,t)}),!0}{let t=[];return($this=Lavosted.dom(this.__application__)).forEach((a,o)=>{t.push(a.getAttribute(e))}),t}}addClass(...e){$this=Lavosted.dom(this.__application__);var t=this.__application__;return $this.forEach((t,a)=>{t.classList.add(...e)}),{removeClass:(...e)=>new Lavosted(t).removeClass(...e),toggleClass:(...e)=>new Lavosted(t).toggleClass(...e),text:e=>new Lavosted(t).text(e),html:e=>new Lavosted(t).html(e),data:e=>new Lavosted(t).data(e)}}removeClass(...e){$this=Lavosted.dom(this.__application__);var t=this.__application__;return $this.forEach((t,a)=>{t.classList.remove(...e)}),{addClass:(...e)=>new Lavosted(t).addClass(...e),toggleClass:(...e)=>new Lavosted(t).toggleClass(...e),text:e=>new Lavosted(t).text(e),html:e=>new Lavosted(t).html(e),data:e=>new Lavosted(t).data(e)}}toggleClass(...e){$this=Lavosted.dom(this.__application__);var t=this.__application__;return $this.forEach((t,a)=>{t.classList.toggle(...e)}),{addClass:(...e)=>new Lavosted(t).addClass(...e),removeClass:(...e)=>new Lavosted(t).removeClass(...e),text:e=>new Lavosted(t).text(e),html:e=>new Lavosted(t).html(e),data:e=>new Lavosted(t).data(e)}}text(e){$this=Lavosted.dom(this.__application__);var t=this.__application__;return $this.forEach((t,a)=>{t.textContent=e}),{addClass:(...e)=>new Lavosted(t).addClass(...e),removeClass:(...e)=>new Lavosted(t).removeClass(...e),toggleClass:e=>new Lavosted(t).toggleClass(e),html:e=>new Lavosted(t).html(e),data:e=>new Lavosted(t).data(e)}}html(e){$this=Lavosted.dom(this.__application__);var t=this.__application__;return $this.forEach((t,a)=>{t.innerHTML=e}),{addClass:(...e)=>new Lavosted(t).addClass(...e),removeClass:(...e)=>new Lavosted(t).removeClass(...e),toggleClass:e=>new Lavosted(t).toggleClass(e),text:e=>new Lavosted(t).text(e),data:e=>new Lavosted(t).data(e)}}data(e){if(e){if("object"!=typeof e){var t=[];return($this=Lavosted.dom(this.__application__)).forEach((a,o)=>{t.push(a.getAttribute("data-"+e))}),t}if("local"==e.type){if("get"==e.methods)return localStorage.getItem(e.name);if("set"==e.methods)return localStorage.setItem(e.name,e.data)}if("session"==e.type){if("get"==e.methods)return sessionStorage.getItem(e.name);if("set"==e.methods)return sessionStorage.setItem(e.name,e.data)}}if(!e)throw Error("parameter 1 not have a value")}date(){var e=new Date,t={date:function(){return e.getDate()},year:function(){return e.getFullYear()},month:function(){return e.getMonth()},hours:function(){return e.getHours()},minutes:function(){return e.getMinutes()},seconds:function(){return e.getSeconds()},time:function(){return e.getTime()},now:function(){return e}};return Object.create(t)}parse(){return JSON.parse(this.__application__)}stringify(){return JSON.stringify(this.__application__)}interval(e,t){if("function"!=typeof e)throw Error("parameter 2 is not a function");if("number"!=typeof t)throw Error("parameter 2 is not a number");setInterval(function(){e()},t)}timeout(e,t){if("function"!=typeof e)throw Error("parameter 2 is not a function");if("number"!=typeof t)throw Error("parameter 2 is not a number");setTimeout(function(){e()},t)}form(){for(var e=Lavosted.dom(this.__application__)[0],t=[],a=[],o=0;o<e.length;o++){var n=e[o].getAttribute("name");if(t.push(e[o].value),a.push(e[o].name),null==n)throw"error : null attribute name in "+this.__application__}return{serialize:()=>t.join("&"),validation:e=>{for(var t=0;t<e.length;t++)if(console.log(e[t]),a.find(a=>a==e[t].name)&&Array.isArray(e[t].count)&&Array.isArray(e[t].maxMessage)&&Array.isArray(e[t].minMessage)){var o=e[t].count[1],n=e[t].count[0],r=(document.querySelector('.lavosted[name="'+e[t].name+'"]'),e[t].maxMessage),s=e[t].minMessage;document.querySelector('input[name="'+e[t].name+'"]').addEventListener("keyup",e=>{var t=document.querySelector(r[0]),a=document.querySelector(s[0]);e.target.value.length>o&&(t.innerHTML=r[1],t.style.display="inline"),e.target.value.length<n&&(a.innerHTML=s[1],t.style.display="inline"),e.target.value.length<o&&e.target.value.length>n&&(t.innerHTML="",t.style.display="none")})}},array:e=>"name"==e?a:"value"==e?t:void 0}}}Lavosted.prototype.database=Object.assign($apps),window.L=function(e){return new Lavosted(e)},window.Lv=new Lavosted;